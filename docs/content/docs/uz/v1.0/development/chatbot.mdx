---
title: Chatbot
description: Xazna AI Chatbot'dan qanday foydalanish.
---

---

import { Tabs, Tab } from "fumadocs-ui/components/tabs";

## Endpoint

`https://ai.xazna.uz/api/v1/llm/token/session/generate`

`wss://ai.xazna.uz/ws/v1/llm/user/message/<session-id>`

## Autentifikatsiya

Har bir so'rovda tokeningizni ko'rsating â€” uni X-Access-Token sarlavhasi orqali yoki query parametri sifatida yuborishingiz mumkin:

```
X-Access-Token: <your-token>
```

```
token=<your-token>
```

## Sessiya so'rovi

| Maydon  | Turi   | Tavsif                                  |
| ------- | ------ | --------------------------------------- |
| content | string | Suhbatni boshlash uchun dastlabki xabar |
| mdl     | string | Suhbat modeli `Base`                    |

## Sessiya xabari

| Maydon  | Turi   | Tavsif                           |
| ------- | ------ | -------------------------------- |
| content | string | Foydalanuvchi xabari             |
| mdl     | string | Suhbat modeli `Base`             |
| action  | string | Suhbat amali `message`, `cancel` |

## Foydalanish namunasi

### Sessiya

<Tabs items={['curl', 'javascript', 'python']} defaultValue="curl">
  <Tab value="curl">

```bash
curl -X POST "https://ai.xazna.uz/api/v1/llm/token/session/generate" \
  -H "Content-Type: application/json" \
  -H "X-Access-Token: <your-token>" \
  -d '{
    "content": "Salom! Bu namuna matn.",
    "mdl": "Base"
  }'
```

  </Tab>
<Tab value="javascript">

```javascript
import fetch from "node-fetch";
import fs from "fs";

async function create_session() {
  const formData = new FormData();
  formData.append("audio", fs.createReadStream("example.mp3"));
  formData.append("mdl", "Base");

  const response = await fetch(
    "https://ai.xazna.uz/api/v1/llm/token/session/generate",
    {
      method: "POST",
      headers: {
        "X-Access-Token": "<your-token>",
      },
      body: JSON.stringify({
        content: "Salom! Bu namuna matn.",
        mdl: "Base",
      }),
    }
  );

  const data = await response.json();
  console.log("Slug:", data.slug);
}

create_session();
```

    </Tab>

<Tab value="python">

```python
import requests

url = "https://ai.xazna.uz/api/v1/llm/token/session/generate"
headers = {
    "Content-Type": "application/json",
    "X-Access-Token": "<your-token>"
}
payload = {
    "text": "Salom! Bu namuna matn.",
    "mdl": "SurAio",
    "format": "mp3",
    "emotion": "Neural"
}

response = requests.post(url, json=payload)

print("Response:", response.json())
```

      </Tab>

  </Tabs>

### Suhbat

<Tabs items={['curl', 'javascript', 'python']} defaultValue="curl">
  <Tab value="curl">

```bash
websocat wss://ai.xazna.uz/ws/v1/llm/token/message/<session-id> \
-H="X-Access-Token: <your-token>"
```

```bash
{"content": "Salom! Bu namuna matn.", "action": "message", "mdl": "Base"}
```

  </Tab>
<Tab value="javascript">

```javascript
const WebSocket = require("ws");

const ws = new WebSocket(
  "wss://ai.xazna.uz/ws/v1/llm/token/message/<session-id>",
  {
    headers: {
      "X-Access-Token": "<your-token>",
    },
  }
);

ws.on("message", (data) => {
  console.log("Received:", data.toString());
});

ws.send(
  JSON.stringify({
    content: "Salom! Bu namuna matn.",
    action: "message",
    mdl: "Base",
  })
);
```

    </Tab>

<Tab value="python">

```python
import websocket
import json

ws = websocket.WebSocket()

ws.connect(
  "wss://ai.xazna.uz/ws/v1/llm/token/message/<session-id>",
  header={"X-Access-Token": "<your-token>"}
)

ws.send(json.dumps({
    "content": "Salom! Bu namuna matn.",
    "action": "message",
    "mdl": "Base"
}))

while True:
    data = ws.recv()
    print("Received:", data)
```

      </Tab>

  </Tabs>

## Javob

### Sessiya

- **slug**: _string_  
  WebSocket ulanishini o'rnatish uchun sessiya identifikatori.

### Suhbat

- **status**: _number_  
  Xabar holat kodi
- **type**: _string_  
  Xabar turi `stream`, `error`

---
