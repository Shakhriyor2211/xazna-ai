{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakhriyormamadaliev/Folders/my_projects/xazna/src/actions/base.tsx"],"sourcesContent":["\"use server\";\n\nimport { cookies } from \"next/headers\";\n\nexport interface BaseActionConfig extends RequestInit {\n  url: string;\n}\n\nexport async function baseAction<T>(config: BaseActionConfig): Promise<T> {\n  const cookieStore = await cookies();\n\n  const access_token = cookieStore.get(\"access_token\")?.value;\n  const refresh_token = cookieStore.get(\"refresh_token\")?.value;\n  const headers: HeadersInit = {\n    ...(config.headers || {}),\n    Cookie: `access_token=${access_token}; refresh_token=${refresh_token}`,\n  };\n\n  const res = await fetch(config.url, {\n    ...config,\n    headers,\n    credentials: \"include\",\n  });\n\n  const setCookie = res.headers.get(\"set-cookie\");\n  if (setCookie) {\n    cookieStore.set({\n      name: \"access_token\",\n      value: extractToken(setCookie),\n      httpOnly: true,\n      path: \"/\",\n    });\n  }\n\n  if (!res.ok) {\n    let message = \"Request failed\";\n    try {\n      const data = await res.json();\n      message = data?.message || message;\n    } catch {}\n    throw new Error(message);\n  }\n\n  return res.json();\n}\n\nfunction extractToken(setCookie: string) {\n  return setCookie.split(\"=\")[1].split(\";\")[0];\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;AAMO,eAAe,WAAc,MAAwB;IAC1D,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,MAAM,eAAe,YAAY,GAAG,CAAC,iBAAiB;IACtD,MAAM,gBAAgB,YAAY,GAAG,CAAC,kBAAkB;IACxD,MAAM,UAAuB;QAC3B,GAAI,OAAO,OAAO,IAAI,CAAC,CAAC;QACxB,QAAQ,CAAC,aAAa,EAAE,aAAa,gBAAgB,EAAE,eAAe;IACxE;IAEA,MAAM,MAAM,MAAM,MAAM,OAAO,GAAG,EAAE;QAClC,GAAG,MAAM;QACT;QACA,aAAa;IACf;IAEA,MAAM,YAAY,IAAI,OAAO,CAAC,GAAG,CAAC;IAClC,IAAI,WAAW;QACb,YAAY,GAAG,CAAC;YACd,MAAM;YACN,OAAO,aAAa;YACpB,UAAU;YACV,MAAM;QACR;IACF;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI,UAAU;QACd,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,UAAU,MAAM,WAAW;QAC7B,EAAE,OAAM,CAAC;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB;AAEA,SAAS,aAAa,SAAiB;IACrC,OAAO,UAAU,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;AAC9C;;;IAxCsB;;AAAA,+OAAA"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakhriyormamadaliev/Folders/my_projects/xazna/src/actions/profile.ts"],"sourcesContent":["\"use server\";\n\nimport { cookies } from \"next/headers\";\nimport { baseAction } from \"./base\";\n\nexport async function profileAction() {\n\n    return baseAction({\n        url: {},\n        method: \"GET\",\n        cache: \"no-store\",\n    });\n}\n"],"names":[],"mappings":";;;;;AAGA;;;;AAEO,eAAe;IAElB,OAAO,IAAA,qIAAU,EAAC;QACd,KAAK,CAAC;QACN,QAAQ;QACR,OAAO;IACX;AACJ;;;IAPsB;;AAAA,+OAAA"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/shakhriyormamadaliev/Folders/my_projects/xazna/.next-internal/server/app/account/user/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {profileAction as '009b0390c952713b635cf4efb24e41e46c58693cef'} from 'ACTIONS_MODULE0'\nexport {baseAction as '40af97d20c21145baf4d8ec83b0d1110d1aa34c5d4'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}